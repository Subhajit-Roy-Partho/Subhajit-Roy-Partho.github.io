<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://subhajit-roy-partho.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://subhajit-roy-partho.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2024-07-11T15:16:21+00:00</updated><id>https://subhajit-roy-partho.github.io/feed.xml</id><title type="html">blank</title><subtitle>I am a PhD student at Petr Sulc&apos;s Lab, Arizona State University. I am currently persuing computational biophysics with focus on self assembly of genetic materials. I am highly invested in developing coarse grain model of DNA which would allow us to study these assembly at a much quicker pace, otherwise impossible with atomistic approach. I also work with Machine Learning models that could even simplify our life by predicting desired properties without even going through computationally intensive simulations where ever possible. I undertook other application based project like dna cryptography and storage. </subtitle><entry><title type="html">GNUplot commands</title><link href="https://subhajit-roy-partho.github.io/blog/2024/Gnuplot/" rel="alternate" type="text/html" title="GNUplot commands"/><published>2024-06-20T00:00:00+00:00</published><updated>2024-06-20T00:00:00+00:00</updated><id>https://subhajit-roy-partho.github.io/blog/2024/Gnuplot</id><content type="html" xml:base="https://subhajit-roy-partho.github.io/blog/2024/Gnuplot/"><![CDATA[<h4 id="plot-x-as-123-and-y-axis">Plot x as 1,2,3….. and y axis</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plot <span class="s2">"data.txt"</span> u <span class="o">(</span><span class="nv">$0</span><span class="o">)</span>:4 title <span class="s2">"Plotting with x innumeration"</span>
</code></pre></div></div> <ul> <li>($0) represents the line number.</li> </ul> <h4 id="plot-histogram">Plot histogram</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">set </span>terminal png
<span class="nb">set </span>output <span class="s1">'histogram.png'</span>
<span class="nb">set </span>style data histogram
<span class="nb">set </span>style fill solid
<span class="nb">set </span>xlabel <span class="s1">'Angles(°)'</span>
<span class="nb">set </span>ylabel <span class="s1">'Normalized Frequency'</span>
<span class="nb">set </span>title <span class="s1">'Angles distribution for α'</span>
bin_width <span class="o">=</span> 1
bin<span class="o">(</span>x, width<span class="o">)</span> <span class="o">=</span> width <span class="k">*</span> floor<span class="o">(</span>x / width<span class="o">)</span> + bin_width / 2.0
stats <span class="s1">'angles.txt'</span> nooutput
total_points <span class="o">=</span> STATS_records
plot <span class="s1">'angles.txt'</span> using <span class="o">(</span>bin<span class="o">(</span><span class="nv">$1</span>, bin_width<span class="o">))</span>:<span class="o">(</span>1.0/total_points<span class="o">)</span> smooth freq with boxes lc rgb <span class="s1">'blue'</span> notitle
</code></pre></div></div> <ul> <li>above <code class="language-plaintext highlighter-rouge">bin_width</code> controls the sampling density or width of each bin.</li> <li>dividing by <code class="language-plaintext highlighter-rouge">total_points</code> normalizes the plot, remove this for unnormalized graphs</li> <li>the input files <code class="language-plaintext highlighter-rouge">angles.txt</code> is assumed to have single column containing all the data.</li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="plot"/><category term="linux"/><summary type="html"><![CDATA[GNUplot useful commands]]></summary></entry><entry><title type="html">GNUplot commands</title><link href="https://subhajit-roy-partho.github.io/blog/2024/oxDNA-forcefield-Development/" rel="alternate" type="text/html" title="GNUplot commands"/><published>2024-06-20T00:00:00+00:00</published><updated>2024-06-20T00:00:00+00:00</updated><id>https://subhajit-roy-partho.github.io/blog/2024/oxDNA-forcefield-Development</id><content type="html" xml:base="https://subhajit-roy-partho.github.io/blog/2024/oxDNA-forcefield-Development/"><![CDATA[<h2 id="forcefield-development-in-oxdna-for-cpu">Forcefield Development in oxDNA for CPU</h2>]]></content><author><name></name></author><category term="sample-posts"/><category term="plot"/><category term="linux"/><summary type="html"><![CDATA[GNUplot useful commands]]></summary></entry><entry><title type="html">Software Installation and Environment Setup</title><link href="https://subhajit-roy-partho.github.io/blog/2024/cogli2-install/" rel="alternate" type="text/html" title="Software Installation and Environment Setup"/><published>2024-05-23T00:00:00+00:00</published><updated>2024-05-23T00:00:00+00:00</updated><id>https://subhajit-roy-partho.github.io/blog/2024/cogli2-install</id><content type="html" xml:base="https://subhajit-roy-partho.github.io/blog/2024/cogli2-install/"><![CDATA[<h2 id="cogli-2-requirements">Cogli 2 requirements</h2> <h4 id="ubuntu-libraries">Ubuntu Libraries</h4> <ul> <li>libxrandr-dev</li> <li>libxi-dev</li> <li>libxxf86vm-dev</li> <li>libxinerama-dev</li> <li>libxcursor-dev</li> </ul> <h4 id="conda-packages">Conda packages</h4> <ul> <li>conda-forge:%3Axorg-libxxf86vm</li> </ul> <h4 id="cmake-addition-for-conda">CMAKE addition for conda</h4> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span><span class="p">(</span><span class="n">CONDA</span><span class="p">)</span>
    <span class="n">include_directories</span><span class="p">(</span><span class="s">"~/miniconda3/include"</span><span class="p">)</span>
    <span class="n">link_directories</span><span class="p">(</span><span class="s">"~/miniconda3/lib"</span><span class="p">)</span>
<span class="n">endif</span><span class="p">(</span><span class="n">CONDA</span><span class="p">)</span>
</code></pre></div></div> <p>change the path accourding to the conda path.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="linux"/><category term="bash"/><summary type="html"><![CDATA[Software Installation and Environment Setup]]></summary></entry><entry><title type="html">Useful vim commands and shortcuts</title><link href="https://subhajit-roy-partho.github.io/blog/2024/vim-shortcut/" rel="alternate" type="text/html" title="Useful vim commands and shortcuts"/><published>2024-05-04T00:00:00+00:00</published><updated>2024-05-04T00:00:00+00:00</updated><id>https://subhajit-roy-partho.github.io/blog/2024/vim-shortcut</id><content type="html" xml:base="https://subhajit-roy-partho.github.io/blog/2024/vim-shortcut/"><![CDATA[<h2 id="useful-vim-commands">Useful vim Commands</h2> <h4 id="search-and-replace">Search and Replace</h4> <ul> <li><code class="language-plaintext highlighter-rouge">:s/search/replace/</code> for current line and first occurrence.</li> <li><code class="language-plaintext highlighter-rouge">:s/search/replace/g</code> for current line and all occurrence.</li> <li><code class="language-plaintext highlighter-rouge">:%s/search/replace/g</code> for all occurance.</li> <li><code class="language-plaintext highlighter-rouge">:3,10s/search/replace/g</code> for a range of line 3 to 10</li> <li><code class="language-plaintext highlighter-rouge">:.,+4s/search/replace/g</code> from current line to next 4 lines</li> <li><code class="language-plaintext highlighter-rouge">:.,$s/search/replace/</code> from current line to end of the file.</li> <li>end <code class="language-plaintext highlighter-rouge">gc</code> to confirm each substitution.</li> <li>end <code class="language-plaintext highlighter-rouge">gi</code> to ignore case sensitivity.</li> </ul> <h4 id="comment-multiple-lines">Comment multiple lines</h4> <h4 id="fold-lines">Fold lines</h4> <p><code class="language-plaintext highlighter-rouge">:set foldmethod=indent</code> folds all the lines by indentation</p> <h2 id="installation">Installation</h2>]]></content><author><name></name></author><category term="sample-posts"/><category term="linux"/><category term="bash"/><summary type="html"><![CDATA[Useful vim commands and shortcuts]]></summary></entry><entry><title type="html">Bash automation</title><link href="https://subhajit-roy-partho.github.io/blog/2024/Bash-automation/" rel="alternate" type="text/html" title="Bash automation"/><published>2024-04-19T00:00:00+00:00</published><updated>2024-04-19T00:00:00+00:00</updated><id>https://subhajit-roy-partho.github.io/blog/2024/Bash-automation</id><content type="html" xml:base="https://subhajit-roy-partho.github.io/blog/2024/Bash-automation/"><![CDATA[<h4 id="to-submit-multiple-replica-job-using-bash-script">To submit multiple replica job using bash script.</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">replicas</span><span class="o">=</span>6
<span class="nv">execType</span><span class="o">=</span>0

<span class="nv">program</span><span class="o">=</span><span class="s2">"oxDNA input"</span>

<span class="nb">mkdir</span> <span class="nt">-p</span> output
<span class="k">for</span> <span class="o">((</span><span class="nv">i</span><span class="o">=</span>1<span class="p">;</span>i&lt;<span class="o">=</span>replicas<span class="p">;</span>i++<span class="o">))</span><span class="p">;</span> <span class="k">do
    </span><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"output/</span><span class="nv">$i</span><span class="s2">"</span>
    rsync <span class="nt">-rzvP</span> main/<span class="k">*</span> <span class="s2">"output/</span><span class="nv">$i</span><span class="s2">"</span>
    <span class="nb">cd</span> <span class="s2">"output/</span><span class="nv">$i</span><span class="s2">"</span>
    <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$execType</span><span class="s2">"</span> <span class="nt">-eq</span> 1 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nv">$program</span> <span class="o">&gt;</span>out.txt &amp;
    <span class="k">fi
    if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$execType</span><span class="s2">"</span> <span class="nt">-eq</span> 2 <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span>sbatch submit.sh
    <span class="k">fi
    </span><span class="nb">cd</span> ../..

<span class="k">done</span>
</code></pre></div></div> <h4 id="automatic-job-management-for-private-queue">Automatic job management for private queue</h4> <ul> <li>Create a watchdog script that needs to be executed from time to time, which will check if the jobs exists or has stopped. If stopped run a resume slurm script.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>checkJob<span class="o">(){</span>
    <span class="nv">status</span><span class="o">=</span><span class="si">$(</span>squeue <span class="nt">-h</span> <span class="nt">-j</span> <span class="nv">$1</span> <span class="nt">-o</span> <span class="s2">"%T"</span><span class="si">)</span>

    <span class="k">if</span> <span class="o">[[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$status</span><span class="s2">"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"The job </span><span class="nv">$1</span><span class="s2"> has finished"</span>
        <span class="k">return </span>1<span class="p">;</span>
    <span class="k">else
        case</span> <span class="nv">$status</span> <span class="k">in</span>
        <span class="s2">"RUNNING"</span><span class="p">)</span>
            <span class="nb">echo</span> <span class="s2">"The job </span><span class="nv">$1</span><span class="s2"> is running"</span>
            <span class="k">return </span>0
            <span class="p">;;</span>
        <span class="s2">"PENDING"</span><span class="p">)</span>
            <span class="nb">echo</span> <span class="s2">"The job </span><span class="nv">$1</span><span class="s2"> is pending in queue"</span>
            <span class="k">return </span>2
            <span class="p">;;</span>
        <span class="k">*</span><span class="p">)</span>
            <span class="nb">echo</span> <span class="s2">"The job </span><span class="nv">$1</span><span class="s2"> is in: </span><span class="nv">$status</span><span class="s2">"</span>
            <span class="k">return </span>3
            <span class="p">;;</span>
        <span class="k">esac</span>
    <span class="k">fi</span>
<span class="o">}</span>

<span class="nv">curretDir</span><span class="o">=</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>

<span class="k">while </span><span class="nv">IFS</span><span class="o">=</span><span class="s2">"*"</span> <span class="nb">read</span> <span class="nt">-ra</span> p <span class="o">||</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$p</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">do
    </span>checkJob <span class="k">${</span><span class="nv">p</span><span class="p">[0]</span><span class="k">}</span>
    <span class="nv">status</span><span class="o">=</span><span class="nv">$?</span>
    <span class="k">if</span> <span class="o">[[</span> <span class="nv">$status</span> <span class="nt">-eq</span> 1 <span class="o">]]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"Restarting the job"</span>
        <span class="nb">cd</span> <span class="k">${</span><span class="nv">p</span><span class="p">[1]</span><span class="k">}</span>
        <span class="nb">eval</span> <span class="k">${</span><span class="nv">p</span><span class="p">[2]</span><span class="k">}</span>
    <span class="k">fi
done</span> &lt; jobs.txt
</code></pre></div></div> <ul> <li>The above script will look into a <code class="language-plaintext highlighter-rouge">jobs.txt</code> which will have the <code class="language-plaintext highlighter-rouge">process id * location of slurm script * script</code>, for example</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>15169644<span class="k">*</span>/scratch/sroy85/PHBdna2/duplex/5T/subResume.sh<span class="k">*</span><span class="s2">"sbatch subResume.sh"</span>
15080501<span class="k">*</span>/scratch/sroy85/PHBdna2/duplex/<span class="k">*</span><span class="s2">"sbatch subResume.sh"</span>
</code></pre></div></div> <ul> <li>And the resume slurm script would look like below</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="c">#SBATCH -q private</span>
<span class="c">#SBATCH -p general</span>
<span class="c">#SBATCH -G a100:1</span>
<span class="c">#SBATCH -t 5-00:00</span>
<span class="c">#SBATCH -c 20</span>
<span class="c">#SBATCH -o code.out</span>
<span class="c">#SBATCH -e code.err</span>

module load cuda-11.7.0-gcc-11.2.0 gcc-11.2.0-gcc-11.2.0 cmake eigen-3.4.0-gcc-11.2.0

<span class="nb">export </span><span class="nv">CUDA_MPS_PIPE_DIRECTORY</span><span class="o">=</span>/tmp/mps-pipe_<span class="nv">$SLURM_TASK_PID</span>
<span class="nb">export </span><span class="nv">CUDA_MPS_LOG_DIRECTORY</span><span class="o">=</span>/tmp/mps-log_<span class="nv">$SLURM_TASK_PID</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nv">$CUDA_MPS_PIPE_DIRECTORY</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nv">$CUDA_MPS_LOG_DIRECTORY</span>
nvidia-cuda-mps-control <span class="nt">-d</span>

<span class="nv">program</span><span class="o">=</span><span class="s2">"oxDNA input"</span>
<span class="nv">add</span><span class="o">=</span><span class="s2">"</span><span class="se">\n</span><span class="s2">refresh_vel = 0"</span>
<span class="nv">replicas</span><span class="o">=</span>6

<span class="nb">dir</span><span class="o">=(</span><span class="s2">"10T"</span>,<span class="s2">"15T"</span>,<span class="s2">"20T"</span><span class="o">)</span>
<span class="k">for </span>folder <span class="k">in</span> <span class="s2">"</span><span class="k">${</span><span class="nv">dir</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span><span class="p">;</span> <span class="k">do
    </span><span class="nb">cd</span> <span class="nv">$folder</span>
    <span class="k">for</span><span class="o">((</span><span class="nv">i</span><span class="o">=</span>1<span class="p">;</span>i&lt;<span class="o">=</span><span class="nv">$replicas</span><span class="p">;</span>i++<span class="o">))</span><span class="p">;</span> <span class="k">do
        </span><span class="nb">cd</span> <span class="s2">"output/</span><span class="nv">$i</span><span class="s2">"</span>
        <span class="nb">echo</span> <span class="nv">$add</span> <span class="o">&gt;&gt;</span> inputProd
        /scratch/sroy85/Github/oxDNA/build/bin/oxDNA inputProd <span class="o">&gt;</span>outProd.txt 2&gt;&amp;1 &amp;
        <span class="nb">cd</span> ../..
    <span class="k">done
    </span><span class="nb">cd</span> ..
<span class="k">done

</span><span class="nb">wait</span> 
</code></pre></div></div> <h4 id="to-change-an-input-parameter-like-temperature-and-running-simulation">To change an input parameter like temperature and running simulation</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">start</span><span class="o">=</span>0.11
<span class="nv">stop</span><span class="o">=</span>0.28
<span class="nv">step</span><span class="o">=</span>0.01
<span class="nv">execType</span><span class="o">=</span>1
<span class="nv">program</span><span class="o">=</span><span class="s2">"oxDNA input"</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> output
<span class="k">for </span>i <span class="k">in</span> <span class="si">$(</span><span class="nb">seq</span> <span class="nv">$start</span> <span class="nv">$step</span> <span class="nv">$stop</span><span class="si">)</span><span class="p">;</span> <span class="k">do
    </span><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"output/</span><span class="nv">$i</span><span class="s2">"</span>
    rsync <span class="nt">-rzvP</span> main/<span class="k">*</span> <span class="s2">"output/</span><span class="nv">$i</span><span class="s2">"</span>
    <span class="nb">cd</span> <span class="s2">"output/</span><span class="nv">$i</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="s2">"T=</span><span class="nv">$i</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> input
    <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$execType</span><span class="s2">"</span> <span class="nt">-eq</span> 1 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nv">$program</span> <span class="o">&gt;</span>out.txt &amp;
    <span class="k">fi
    if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$execType</span><span class="s2">"</span> <span class="nt">-eq</span> 2 <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span>sbatch submit.sh
    <span class="k">fi
    </span><span class="nb">cd</span> ../..
<span class="k">done</span>
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">originalDir</span><span class="o">=</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>
<span class="nv">folders</span><span class="o">=</span><span class="si">$(</span>find <span class="nb">.</span> <span class="nt">-maxdepth</span> 1 <span class="nt">-type</span> d<span class="si">)</span>


<span class="k">for </span><span class="nb">dir </span><span class="k">in</span> <span class="nv">$folders</span><span class="p">;</span> <span class="k">do
    </span><span class="nv">first</span><span class="o">=</span>1
    <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$dir</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"."</span> <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$dir</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"./plot"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
        continue
    fi

    </span><span class="nb">echo</span> <span class="s2">"Entering </span><span class="nv">$dir</span><span class="s2">/output"</span>

    <span class="nb">cd</span> <span class="s2">"</span><span class="nv">$dir</span><span class="s2">/output"</span>
    <span class="nv">subfolders</span><span class="o">=</span><span class="si">$(</span>find <span class="nb">.</span> <span class="nt">-maxdepth</span> 1 <span class="nt">-type</span> d<span class="si">)</span>

    <span class="nb">cp</span>  <span class="nt">-rf</span> <span class="s2">"</span><span class="nv">$originalDir</span><span class="s2">/plot.gnuplot"</span> <span class="s2">"./plot.gnuplot"</span>
    <span class="nb">ls
    sed</span> <span class="nt">-i</span> <span class="s2">"s/folder/</span><span class="k">${</span><span class="nv">dir</span>:2<span class="k">}</span><span class="s2">/g"</span> <span class="s2">"./plot.gnuplot"</span>
    <span class="k">for </span>subdir <span class="k">in</span> <span class="nv">$subfolders</span><span class="p">;</span> <span class="k">do
        if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$subdir</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"."</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
            continue
        fi
        if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$first</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"1"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
            </span><span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s/#plottingHere/plot '</span><span class="k">${</span><span class="nv">subdir</span>:2<span class="k">}</span><span class="se">\/</span><span class="s2">energy.ign' w l title '</span><span class="k">${</span><span class="nv">subdir</span>:2<span class="k">}</span><span class="s2">'</span><span class="se">\n</span><span class="s2">#plottingHere/g"</span> <span class="s2">"./plot.gnuplot"</span>
            <span class="nv">first</span><span class="o">=</span>0
        <span class="k">else
            </span><span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s/#plottingHere/replot '</span><span class="k">${</span><span class="nv">subdir</span>:2<span class="k">}</span><span class="se">\/</span><span class="s2">energy.ign' w l title '</span><span class="k">${</span><span class="nv">subdir</span>:2<span class="k">}</span><span class="s2">'</span><span class="se">\n</span><span class="s2">#plottingHere/g"</span> <span class="s2">"./plot.gnuplot"</span>
        <span class="k">fi
    done
    </span>gnuplot plot.gnuplot
    <span class="nb">cd</span> <span class="s2">"</span><span class="nv">$originalDir</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="s2">""</span>
<span class="k">done</span>
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">set </span>terminal pngcairo size 1024,768

<span class="c"># Set the output file name</span>
<span class="nb">set </span>output <span class="s1">'../../plot/folder.png'</span>

<span class="nb">set </span>logscale x
<span class="nb">set </span>yrange <span class="o">[</span>:3]
<span class="c"># Set title and labels (optional)</span>
<span class="nb">set </span>title <span class="s1">'Plot for folder'</span>
<span class="nb">set </span>xlabel <span class="s1">'X in log SU'</span>
<span class="nb">set </span>ylabel <span class="s1">'Y in linear SU'</span>

<span class="c"># Plot the data</span>
<span class="c"># Assuming the data file is named 'data.dat', and you want to plot column 1 as X and column 2 as Y</span>
<span class="c">#plottingHere</span>

<span class="c"># Unset output to finalize the file</span>
<span class="nb">unset </span>output
<span class="nb">set </span>output <span class="s1">'../../plot/folder.png'</span>
replot
<span class="nb">unset </span>output
</code></pre></div></div>]]></content><author><name></name></author><category term="sample-posts"/><category term="linux"/><category term="bash"/><summary type="html"><![CDATA[Automation using bash scripts, the most powerful tool in linux.]]></summary></entry><entry><title type="html">Windows Fix</title><link href="https://subhajit-roy-partho.github.io/blog/2024/Windows-fix/" rel="alternate" type="text/html" title="Windows Fix"/><published>2024-04-13T00:00:00+00:00</published><updated>2024-04-13T00:00:00+00:00</updated><id>https://subhajit-roy-partho.github.io/blog/2024/Windows-fix</id><content type="html" xml:base="https://subhajit-roy-partho.github.io/blog/2024/Windows-fix/"><![CDATA[<h3 id="change-time-server-for-windows">Change time server for windows</h3> <ul> <li>Open run using <code class="language-plaintext highlighter-rouge">Win+R</code></li> <li>regedit enter to open Register Editor</li> <li>Add string register for time server at <code class="language-plaintext highlighter-rouge">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\DateTime\Servers</code>.</li> <li>For sting register the header will be integer 1 2 3 … and the value would be time server address.</li> <li>Most popular time server addresses: <ul> <li>us.pool.ntp.org</li> <li>time.google.com <ul> <li>time1.google.com</li> <li>time2.google.com</li> <li>time3.google.com</li> <li>time4.google.com</li> </ul> </li> <li>time-a-g.nist.gov</li> </ul> </li> <li>The first entry (Defaults) have a integer value indicating the integer of the time server. For example if I want to set for example time.google.com as my default and if it is registered to integer 3. Then I will just change the value of the (Defaults) to 3.</li> </ul> <h2 id="references">References</h2> <ul> <li>https://www.thewindowsclub.com/change-time-server-windows-10</li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="windows"/><summary type="html"><![CDATA[Simple Macbook fixes which are game changing]]></summary></entry><entry><title type="html">Macbook Fixes</title><link href="https://subhajit-roy-partho.github.io/blog/2024/Apple-fix/" rel="alternate" type="text/html" title="Macbook Fixes"/><published>2024-04-09T00:00:00+00:00</published><updated>2024-04-09T00:00:00+00:00</updated><id>https://subhajit-roy-partho.github.io/blog/2024/Apple-fix</id><content type="html" xml:base="https://subhajit-roy-partho.github.io/blog/2024/Apple-fix/"><![CDATA[<h3 id="reset-macbook-network">Reset Macbook Network</h3> <ul> <li>Turn off Wi-Fi</li> <li>Open Finder &gt; From top menus select <code class="language-plaintext highlighter-rouge">GO</code> &gt; <code class="language-plaintext highlighter-rouge">Go to Folder</code></li> <li>Type <code class="language-plaintext highlighter-rouge">/Library/Preferences/SystemConfiguration</code></li> <li>Delete as many files as you can find. <ul> <li>com.apple.airport.preferences.plist</li> <li>com.apple.network.identification.plist / com.apple.network.eapoclient / configuration.plist</li> <li>com.apple.wifi.message-tracer.plist</li> <li>NetworkInterfaces.plist</li> <li>preferences.plist</li> </ul> </li> <li>Move the above files to trash and restart the system.</li> </ul> <h2 id="references">References</h2> <ul> <li>(How to Reset Network Settings on Mac - LifeWire)[https://www.lifewire.com/reset-network-settings-on-mac-5184072]</li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="apple"/><category term="mac"/><summary type="html"><![CDATA[Simple Macbook fixes which are game changing]]></summary></entry><entry><title type="html">Optimization of a molecular structure using DFT calculations</title><link href="https://subhajit-roy-partho.github.io/blog/2024/QuantumOptimize/" rel="alternate" type="text/html" title="Optimization of a molecular structure using DFT calculations"/><published>2024-02-26T00:00:00+00:00</published><updated>2024-02-26T00:00:00+00:00</updated><id>https://subhajit-roy-partho.github.io/blog/2024/QuantumOptimize</id><content type="html" xml:base="https://subhajit-roy-partho.github.io/blog/2024/QuantumOptimize/"><![CDATA[<p>In this project I was trying to figure out distance between two ligands bounded to a phosphate backbone of DNA with highest degree of accuracy. The ligand also contains non standard elements which motivated me to use quantum forcefields instead of classical all atoms MD simulations.</p> <ul> <li>To draw the different structures of the ligands and the DNA I use avagadro which draws them and somewhat optimizes them as well.</li> <li>This cml files are now optimized using <code class="language-plaintext highlighter-rouge">MMFF94s</code> forcefield before proceeding with calculation in GAMESS, Gaussian or any other Quantum Engines. This is carried out with the help of open babel using the following code. <code class="language-plaintext highlighter-rouge">obabel initial.cml -O optimized.cml --minimize --steps 15000 --sd --log --ff MMFF94s</code>. Here initial is the initial structure and optimized is the final output. –sd to use steepest descent algorithm –log will log all the proceding. Following all the force field that can be used:</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:<span class="se">\&gt;</span>obabel <span class="nt">-L</span> forcefields
GAFF    General Amber Force Field <span class="o">(</span>GAFF<span class="o">)</span><span class="nb">.</span>
Ghemical    Ghemical force field.
MMFF94    MMFF94 force field.
MMFF94s    MMFF94s force field.
UFF    Universal Force Field.
</code></pre></div></div> <h3 id="references">References</h3> <ul> <li>https://open-babel.readthedocs.io/en/latest/Command-line_tools/babel.html#forcefield-energy-and-minimization</li> <li>https://avogadro.cc/</li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="Quantum"/><category term="CML"/><summary type="html"><![CDATA[Optimization of a molecular structure using DFT calculations]]></summary></entry><entry><title type="html">Cryosparc management</title><link href="https://subhajit-roy-partho.github.io/blog/2024/Cryospark/" rel="alternate" type="text/html" title="Cryosparc management"/><published>2024-02-12T00:00:00+00:00</published><updated>2024-02-12T00:00:00+00:00</updated><id>https://subhajit-roy-partho.github.io/blog/2024/Cryospark</id><content type="html" xml:base="https://subhajit-roy-partho.github.io/blog/2024/Cryospark/"><![CDATA[<h3 id="installation">Installation</h3> <ul> <li>Request a <a href="http://cryosparc.com/download">license</a>. It usually take them 2 business them to issue you a license.</li> <li>In .bashrc add <code class="language-plaintext highlighter-rouge">export LICENSE_ID="&lt;license_id&gt;"</code>.</li> <li>Download the files to desire location using</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -L https://get.cryosparc.com/download/master-latest/$LICENSE_ID -o cryosparc_master.tar.gz
curl -L https://get.cryosparc.com/download/worker-latest/$LICENSE_ID -o cryosparc_worker.tar.gz
</code></pre></div></div> <p>For Single PC setup only cryospac master is required.</p> <ul> <li>Extract the tar files using <code class="language-plaintext highlighter-rouge">tar -xzvf cryosparc_master.tar.gz</code>.</li> <li>Setup a database location, usually for clusters scratch space is best for example <code class="language-plaintext highlighter-rouge">/scratch/cryo/cryoDB</code>.</li> <li>Go to the extracted folder then install using <code class="language-plaintext highlighter-rouge">./install.sh --license $LICENSE_ID --hostname hostname --dbpath /scratch/cryo/cryoDB --port 61000</code>.</li> </ul> <p>The hostname can be obtained by typing <code class="language-plaintext highlighter-rouge">hostname</code>. In cluster system this will change depending upon the node allocation. In such situation the nodename needs to be updated in <code class="language-plaintext highlighter-rouge">config.sh</code>. Also adding <code class="language-plaintext highlighter-rouge">export CRYOSPARC_FORCE_HOSTNAME=true</code> to config.sh could also help.</p> <ul> <li>Start the cryosparc using <code class="language-plaintext highlighter-rouge">bin/cryosparcm start</code>. First time it will take some time to configure, from next time it would be fast.</li> <li>Create the user using <code class="language-plaintext highlighter-rouge">bin/cryosparcm createuser --email "email@email.com" --username "user1" --firstname "user" --lastname "1" --password "somepass"</code></li> <li>Elevate user permission to admin using <code class="language-plaintext highlighter-rouge">cryosparcm updateuser --email "&lt;email address&gt;" --admin "true"</code>.</li> <li>Now cryosparc is ready for use at port 61000. To open a <code class="language-plaintext highlighter-rouge">ssh port use ssh -N -L 61000:cg001.sol.asu.edu:61000 user@sol.asu.edu</code> where cg001 is the id of the compute node in the cluster. If it is a personal computer this step can be ignored.</li> <li>Access the cryosparc in the browser at localhost:61000</li> </ul> <h3 id="references">References</h3> <ul> <li>https://guide.cryosparc.com/setup-configuration-and-management/how-to-download-install-and-configure/downloading-and-installing-cryosparc</li> <li>https://discuss.cryosparc.com/t/no-admin-account-upon-install-create-admin-account-via-cli/10530/2</li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="linux"/><category term="Cryo"/><category term="TEM"/><summary type="html"><![CDATA[Installation and management of Cryosparc]]></summary></entry><entry><title type="html">Useful bash commands and functions</title><link href="https://subhajit-roy-partho.github.io/blog/2024/Bash-commands/" rel="alternate" type="text/html" title="Useful bash commands and functions"/><published>2024-02-12T00:00:00+00:00</published><updated>2024-02-12T00:00:00+00:00</updated><id>https://subhajit-roy-partho.github.io/blog/2024/Bash-commands</id><content type="html" xml:base="https://subhajit-roy-partho.github.io/blog/2024/Bash-commands/"><![CDATA[<h2 id="alias">Alias</h2> <p><code class="language-plaintext highlighter-rouge">alias md=mkdir</code></p> <h2 id="settings-bashrc">Settings bashrc</h2> <p><code class="language-plaintext highlighter-rouge">shopt -s autocd</code></p> <h2 id="important-functions">Important functions</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server<span class="o">(){</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span><span class="k">then
        </span>ssh <span class="nt">-CX</span> user@serverIP
    <span class="k">elif</span> <span class="o">[</span> <span class="nv">$1</span> <span class="o">=</span> <span class="s2">"port"</span> <span class="o">]</span><span class="p">;</span><span class="k">then
        if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$4</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span><span class="k">then
            </span>ssh <span class="nt">-N</span> <span class="nt">-L</span> <span class="nv">$2</span>:<span class="nv">$3</span>.serverIP:<span class="nv">$2</span> user@serverIP
        <span class="k">else
            </span>ssh <span class="nt">-N</span> <span class="nt">-L</span> <span class="nv">$2</span>:<span class="nv">$3</span>.serverIP:<span class="nv">$4</span> user@serverIP
        <span class="k">fi
    elif</span> <span class="o">[</span> <span class="nv">$1</span> <span class="o">=</span> <span class="s2">"send"</span> <span class="o">]</span><span class="p">;</span><span class="k">then
        </span>rsync <span class="nt">-rzvP</span> <span class="nv">$2</span> user@serverIP:<span class="nv">$3</span>
    <span class="k">elif</span> <span class="o">[</span> <span class="nv">$1</span> <span class="o">=</span> <span class="s2">"receive"</span> <span class="o">]</span><span class="p">;</span><span class="k">then
        </span>rsync <span class="nt">-rzvP</span> user@serverIP:<span class="nv">$2</span> <span class="nv">$3</span>
    <span class="k">else
        </span>ssh user@serverIP <span class="nv">$1</span>
    <span class="k">fi</span>
<span class="o">}</span>
</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">server</code> will just log you in</li> <li><code class="language-plaintext highlighter-rouge">server send yourLocation serverLocation</code> sends file to the server.</li> <li><code class="language-plaintext highlighter-rouge">server receive serverLocation yourLocation</code> downloads the files from server.</li> <li>replace <code class="language-plaintext highlighter-rouge">server</code> with your server name, <code class="language-plaintext highlighter-rouge">user</code> to your user id, <code class="language-plaintext highlighter-rouge">serverIP</code> with the ip of the server.</li> <li>To execute commands just server “command”. Few useful commands</li> <li><code class="language-plaintext highlighter-rouge">server myjobs</code> - to see running jobs</li> <li><code class="language-plaintext highlighter-rouge">server "cat file"</code> - see a file</li> <li><code class="language-plaintext highlighter-rouge">server "tail file"</code> - last few lines of file, useful for log files.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function </span>asu<span class="o">(){</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span><span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"password</span><span class="se">\n</span><span class="s2">push</span><span class="se">\n</span><span class="s2">"</span>|sudo openconnect <span class="nt">-u</span> user <span class="nt">--server</span><span class="o">=</span>sslvpn.asu.edu
    <span class="k">elif</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-eq</span> 1 <span class="o">]</span><span class="p">;</span><span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"password</span><span class="se">\n</span><span class="nv">$1</span><span class="se">\n</span><span class="s2">"</span>|sudo openconnect <span class="nt">-u</span> user <span class="nt">--server</span><span class="o">=</span>sslvpn.asu.edu
    <span class="k">else
        </span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$1</span><span class="se">\n</span><span class="nv">$2</span><span class="se">\n</span><span class="s2">"</span>|sudo openconnect <span class="nt">-u</span> user <span class="nt">--server</span><span class="o">=</span>sslvpn.asu.edu
    <span class="k">fi</span>
<span class="o">}</span>
</code></pre></div></div> <p>or</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">alias </span>asu <span class="o">=</span> <span class="s1">'echo "password\npush"|sudo openconnect -u user --server=sslvpn.asu.edu'</span>
</code></pre></div></div> <ul> <li>first function only works with zsh, for bash use the 2nd one.</li> <li>to sign in to asu network using terminal and openconnect with push authentication.</li> <li>the above method is unsecure as the password is kept in the bashrc or zshrc file.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gi<span class="o">(){</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span><span class="k">then
        </span>git pull<span class="p">;</span> git add .<span class="p">;</span> git commit <span class="nt">-m</span> <span class="s2">"update"</span><span class="p">;</span> git push<span class="p">;</span>
    <span class="k">elif</span> <span class="o">[</span> <span class="nv">$1</span> <span class="o">=</span> <span class="s2">"commit"</span> <span class="o">]</span><span class="p">;</span><span class="k">then
        </span>git add .<span class="p">;</span> git commit <span class="nt">-m</span> <span class="nv">$2</span><span class="p">;</span> git push
    <span class="k">elif</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-eq</span> 1]<span class="p">;</span><span class="k">then
        </span>git clone <span class="nv">$1</span>
    <span class="k">fi</span>
<span class="o">}</span>
</code></pre></div></div> <ul> <li>short function to do git stuff.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span><span class="nv">ninjabuild</span><span class="o">=</span><span class="s2">"cmake .. -G Ninja -DCMAKE_BUILD_TYPE=Release; ninja -j 30"</span>
</code></pre></div></div> <ul> <li>quick compilation for programs using cmake.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>checkJob<span class="o">(){</span>
    <span class="nv">status</span><span class="o">=</span><span class="si">$(</span>squeue <span class="nt">-h</span> <span class="nt">-j</span> <span class="nv">$1</span> <span class="nt">-o</span> <span class="s2">"%T"</span><span class="si">)</span>

    <span class="k">if</span> <span class="o">[[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$status</span><span class="s2">"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"The job </span><span class="nv">$1</span><span class="s2"> has finished"</span>
        <span class="k">return </span>1<span class="p">;</span>
    <span class="k">else
        case</span> <span class="nv">$status</span> <span class="k">in</span> 
        <span class="s2">"RUNNING"</span><span class="p">)</span>
            <span class="nb">echo</span> <span class="s2">"The job </span><span class="nv">$1</span><span class="s2"> is running"</span>
            <span class="k">return </span>0
            <span class="p">;;</span>
        <span class="s2">"PENDING"</span><span class="p">)</span>
            <span class="nb">echo</span> <span class="s2">"The job </span><span class="nv">$1</span><span class="s2"> is pending in queue"</span>
            <span class="k">return </span>2
            <span class="p">;;</span>
        <span class="k">*</span><span class="p">)</span>
            <span class="nb">echo</span> <span class="s2">"The job </span><span class="nv">$1</span><span class="s2"> is in: </span><span class="nv">$status</span><span class="s2">"</span>
            <span class="k">return </span>3
            <span class="p">;;</span>
        <span class="k">esac</span>
    <span class="k">fi</span>
<span class="o">}</span>
</code></pre></div></div> <ul> <li>above function check the status of a job given the jobid as input</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">kill</span> <span class="si">$(</span>ps aux | <span class="nb">grep</span> <span class="s2">"program Name"</span>| <span class="nb">grep</span> <span class="s2">"2nd cond if needed"</span> | <span class="nb">awk</span> <span class="s1">'{print $2}'</span><span class="si">)</span>
</code></pre></div></div> <ul> <li>similarly to kill jobs running on nvidia gpus</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">kill</span> <span class="si">$(</span> nvidia-smi | <span class="nb">grep</span> <span class="s2">"program Name"</span>| <span class="nb">grep</span> <span class="s2">"2nd condititon"</span> | <span class="nb">awk</span> <span class="s1">'{print $5}'</span><span class="si">)</span>
</code></pre></div></div> <ul> <li>above function will kill all the jobs with condition within grep. This is very useful command to kill all the jobs with a specific keywords.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find <span class="nb">.</span> <span class="nt">-type</span> f <span class="nt">-exec</span> <span class="nb">touch</span> <span class="nt">--no-create</span> <span class="o">{}</span> +
</code></pre></div></div> <ul> <li>updates timestamp of all the files, this is useful to preserve files where there is automatic file deletion sytem for older files.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat </span>file1 file2 <span class="o">&gt;</span> file3
</code></pre></div></div> <ul> <li>the above will merge content of file1 and file2 to file 3. Single <code class="language-plaintext highlighter-rouge">&gt;</code> will replace content in file3 while <code class="language-plaintext highlighter-rouge">&gt;&gt;</code> will append content to file3.</li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="linux"/><category term="bash"/><summary type="html"><![CDATA[Useful bashrc commands that I require to write every time I create a new system.]]></summary></entry></feed>